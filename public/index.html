<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover"
    />
    <meta name="theme-color" content="#ffffff" />
    <meta name="apple-touch-fullscreen" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="IDKB" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="manifest" href="/site.webmanifest" />
    <title>IDontKnowBrowser</title>
    <style>
      body {
        font-family: Roboto, Helvetica, Arial, sans-serif;
        font-size: 16px;
      }

      #ua {
        width: 100%;
        height: 48px;
      }

      :root {
        --safeAreaInsetTop: env(safe-area-inset-top);
        --safeAreaInsetRight: env(safe-area-inset-right);
        --safeAreaInsetBottom: env(safe-area-inset-bottom);
        --safeAreaInsetLeft: env(safe-area-inset-left);
        --titlebarAreaX: env(titlebar-area-x);
        --titlebarAreaY: env(titlebar-area-y);
        --titlebarAreaWidth: env(titlebar-area-width);
        --titlebarAreaHeight: env(titlebar-area-height);
      }
    </style>
  </head>
  <body>
    <input type="text" />
    <div>
      <strong>screen.availWH:</strong>
      <div id="screenAvailWH"></div>
    </div>
    <div>
      <strong>screen.WH:</strong>
      <div id="screenWH"></div>
    </div>
    <div>
      <strong>window.orientation:</strong>
      <div id="windowOrientation"></div>
    </div>
    <div>
      <strong>window.outer:</strong>
      <div id="windowOuter"></div>
    </div>
    <div>
      <strong>window.inner:</strong>
      <div id="windowInner"></div>
    </div>
    <div>
      <strong>window.visualViewport:</strong>
      <div id="windowVisualViewport"></div>
    </div>
    <div>===</div>
    <strong>User agent:</strong>
    <div>
      <code id="ua" />
    </div>
    <div>===</div>
    <div>
      <strong>Safe area inset top:</strong>
      <div id="safeAreaInsetTop_value"></div>
    </div>
    <div>
      <strong>Safe area inset right:</strong>
      <div id="safeAreaInsetRight_value"></div>
    </div>
    <div>
      <strong>Safe area inset bottom:</strong>
      <div id="safeAreaInsetBottom_value"></div>
    </div>
    <div>
      <strong>Safe area inset left:</strong>
      <div id="safeAreaInsetLeft_value"></div>
    </div>
    <div>
      <strong>Titlebar area x:</strong>
      <div id="titlebarAreaX_value"></div>
    </div>
    <div>
      <strong>Titlebar area y:</strong>
      <div id="titlebarAreaY_value"></div>
    </div>
    <div>
      <strong>Titlebar area width:</strong>
      <div id="titlebarAreaWidth_value"></div>
    </div>
    <div>
      <strong>Titlebar area height:</strong>
      <div id="titlebarAreaHeight_value"></div>
    </div>
    <script>
      const $ua = document.querySelector("#ua");
      const userAgent = window.navigator.userAgent;

      $ua.innerHTML = userAgent;

      [
        "safeAreaInsetTop",
        "safeAreaInsetRight",
        "safeAreaInsetBottom",
        "safeAreaInsetLeft",
        "titlebarAreaX",
        "titlebarAreaY",
        "titlebarAreaWidth",
        "titlebarAreaHeight",
      ].forEach((envName) => {
        const value = window
          .getComputedStyle(document.documentElement)
          .getPropertyValue(`--${envName}`);
        const $ele = document.querySelector(`#${envName}_value`);
        if (!$ele) return;
        $ele.innerHTML = value || "unknown";
      });

      const $screenAvailWH = document.querySelector("#screenAvailWH");
      const $screenWH = document.querySelector("#screenWH");
      const $windowOrientation = document.querySelector("#windowOrientation");
      const $windowOuter = document.querySelector("#windowOuter");
      const $windowInner = document.querySelector("#windowInner");
      const $windowVisualViewport = document.querySelector(
        "#windowVisualViewport"
      );
      handleResize();
      window.addEventListener("resize", handleResize);
      window.addEventListener("orientationchange", handleResize);
      function handleResize() {
        $screenAvailWH.innerHTML = `${window.screen.availWidth}, ${window.screen.availHeight}`;
        $screenWH.innerHTML = `${window.screen.width}, ${window.screen.height}`;
        $windowOrientation.innerHTML =
          `${window.orientation ?? "unknown"}, ` +
          `${window.screen.orientation?.type ?? "unknown"}, ` +
          `${window.screen.orientation?.angle ?? "unknown"}`;
        $windowOuter.innerHTML = `${window.outerWidth}, ${window.outerHeight}`;
        $windowInner.innerHTML = `${window.innerWidth}, ${window.innerHeight}`;
        $windowVisualViewport.innerHTML = `${window.visualViewport.width}, ${window.visualViewport.height}`;
      }
    </script>
  </body>
</html>
